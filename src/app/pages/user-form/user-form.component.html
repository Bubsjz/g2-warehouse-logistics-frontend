<section class="container mt-5">
  <div class="card shadow-lg p-4">
    <h3 class="text-center my-4">{{ formTitle }}</h3>
    <hr />
    <form [formGroup]="userForm" (ngSubmit)="getDataForm()">
      <div class="my-3">
        <label class="form-label" for="name"
          >Name <span class="text-danger">*</span></label
        >
        <input
          class="form-control rounded-pill"
          type="text"
          id="name"
          formControlName="name"
          placeholder="Enter the employee's name"
        />
        @if (userForm.get('name')?.invalid && userForm.get('name')?.touched){
        <div class="text-danger">
          @if (userForm.get('name')?.hasError('required')){
          <small>Name is required</small>
          }
        </div>
        }
      </div>
      <div class="my-3">
        <label class="form-label" for="surname"
          >Surname <span class="text-danger">*</span></label
        >
        <input
          class="form-control rounded-pill"
          type="text"
          id="surname"
          formControlName="surname"
          placeholder="Enter the employee's surname"
        />
        @if (userForm.get('surname')?.invalid &&
        userForm.get('surname')?.touched){
        <div class="text-danger">
          @if (userForm.get('surname')?.hasError('required')){
          <small>Surname is required</small>
          }
        </div>
        }
      </div>
      <div class="my-3">
        <label class="form-label" for="email"
          >Email <span class="text-danger">*</span></label
        >
        <input
          class="form-control rounded-pill"
          type="text"
          id="email"
          formControlName="email"
          placeholder="Enter the email"
        />
        @if (userForm.get('email')?.invalid && userForm.get('email')?.touched){
        <div class="text-danger">
          @if (userForm.get('email')?.hasError('required')){
          <small>Email is required</small>
          } @if (userForm.get('email')?.hasError('email')){
          <small>Must be a valid email</small>
          } @if (userForm.get('email')?.hasError('pattern')){
          <small>Email domain must be .com, .org or .net</small>
          }
        </div>
        }
      </div>
      <div class="mb-3">
        <label class="form-label" for="password"
          >Password <span class="text-danger">*</span></label
        >
        <input
          class="form-control rounded-pill"
          type="password"
          id="password"
          formControlName="password"
          placeholder="Enter the password"
        />
        @if (userForm.get('password')?.invalid &&
        userForm.get('password')?.touched){
        <div class="text-danger">
          @if (userForm.get('password')?.hasError('required')){
          <small>Password is required</small>
          } @if (userForm.get('password')?.hasError('minlength')){
          <small>Password must be at least 6 characters </small>
          } @if (userForm.get('password')?.hasError('pattern')){
          <small>Password must contain uppercase, lowercase and a number</small>
          }
        </div>
        }
      </div>
      <div class="my-3">
        <label class="form-label" for="rol"
          >Rol <span class="text-danger">*</span></label
        >
        <select class="form-select rounded-pill" id="rol" formControlName="rol">
          <option value="" disabled>Select a rol</option>
          <option value="operator">Operator</option>
          <option value="manager">Manager</option>
          <option value="team leader">Team leader</option>
        </select>
        @if (userForm.get('rol')?.invalid && userForm.get('rol')?.touched){
        <div class="text-danger">
          <small>Role is required</small>
        </div>
        }
      </div>
      <div class="my-3">
        <label class="form-label" for="warehouse"
          >Warehouse <span class="text-danger">*</span></label
        >
        <select
          class="form-select rounded-pill"
          id="warehouse"
          formControlName="warehouse"
        >
          <option value="" disabled>Select a warehouse</option>
          <option value="warehouse A">Warehouse A</option>
          <option value="warehouse B">Warehouse B</option>
          <option value="warehouse C">Warehouse C</option>
        </select>
        @if (userForm.get('warehouse')?.invalid &&
        userForm.get('warehouse')?.touched){
        <div class="text-danger">
          <small>Warehouse is required</small>
        </div>
        }
      </div>
      <div class="d-flex justify-content-center gap-2 my-3">
        <input
          type="submit"
          [value]="buttonText"
          class="btn btn-success rounded-pill btn-size"
        />
        <button
          type="button"
          (click)="goback()"
          class="btn btn-danger rounded-pill btn-size"
        >
          Back to
        </button>
      </div>
    </form>
  </div>
</section>
